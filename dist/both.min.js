!function(e,t){var o,n={defaults:{types:[],device:"",touch:!1,mouse:!1,key:!1,oHandlersData:[],jHandlersData:{},iViewportWidth:1024,iInterval:200,debug:!1},options:{},settings:{},init:function(){this.settings=t.extend({},this.defaults,this.options),o=this.settings,o.debug&&log("##################### init()"),"mobile"==o.device||"tablet"==o.device?this.set("touch",!0):this.set("mouse",!0),o.oHandlersData={mouse:[],touch:[],key:[]},this.bindUIActions()},bindUIActions:function(){o.debug&&log("##################### bindUIActions()");var e,a;t(document).on("mousemove",function(t){return a?void(a=!1):void(o.types.indexOf("mouse")>-1||(o.debug&&log(">>> mousemove"),"undefined"!=typeof e&&clearTimeout(e),e=setTimeout(function(){o.debug&&log(">>> movewait"),n.set("mouse",t),n.handleInteractionTypeChange(t)},o.iInterval)))}),t(document).on("touchstart",function(e){o.types.indexOf("touch")>-1||(o.debug&&log(">>> touchstart"),n.set("touch",e),n.handleInteractionTypeChange(e),a=!0)})},define:function(e){o.debug&&log("##################### define()");var n=null;if("undefined"!=typeof e)return"object"==typeof e&&null!==e?n=e:"string"==typeof e&&(n=t(e)),n},set:function(e){"mouse"==e?(t("html").removeClass("touch").addClass("mouse"),o.touch=!1,o.mouse=!0,n.array.add(o.types,"mouse"),n.array.remove(o.types,"touch")):"touch"==e&&(t("html").removeClass("mouse").addClass("touch"),o.touch=!0,o.mouse=!1,n.array.add(o.types,"touch"),n.array.remove(o.types,"mouse"))},start:function(){n.handleInteractionTypeChange(!0)},handleInteractionTypeChange:function(e){var t="boolean"==typeof e&&e?"is setted":"has changed";o.debug&&log("---------------------------------------------------"),o.debug&&log("Interaction type "+t+": "+o.types.toString()),o.debug&&log("---------------------------------------------------"),n.switch()},store:function(e,t,n,a){o.debug&&log("##################### store()"),o.debug&&log("- context",e),o.debug&&log("- selector",t),o.debug&&log("- event",n),o.debug&&log("- handler",a),o.oHandlersData[e].push({selector:t,event:n,handler:a}),o.debug&&log("s.oHandlersData",o.oHandlersData)},"switch":function(){o.debug&&log("##################### switch()");var e={on:o.types.indexOf("mouse")>-1?"mouse":"touch",off:o.types.indexOf("mouse")>-1?"touch":"mouse"};_type="mouse"in o.types?"mouse":"touch",o.debug&&log(o.types),n.on(e.on),n.off(e.off)},on:function(e){o.debug&&log("##################### on()");for(var t=0;t<o.oHandlersData[e].length;t++){var n={selector:o.oHandlersData[e][t].selector,event:o.oHandlersData[e][t].event,handler:o.oHandlersData[e][t].handler};n.selector.on(n.event,n.handler)}},off:function(e){o.debug&&log("##################### off()");for(var t=0;t<o.oHandlersData[e].length;t++){var n={selector:o.oHandlersData[e][t].selector,event:o.oHandlersData[e][t].event,handler:o.oHandlersData[e][t].handler};n.selector.off(n.event,n.handler)}},array:{add:function(e,t){o.debug&&log("##################### array.add()"),e.push(t)},remove:function(e,t){o.debug&&log("##################### array.remove()");var n=e.indexOf(t);n>-1&&e.splice(n,1)}},object:{add:function(e,t,n){return o.debug&&log("##################### object.add()"),void 0!=this.collection[t]?void 0:(this.collection[t]=n,++this.count)},remove:function(e,t){return o.debug&&log("##################### object.remove()"),void 0==this.collection[t]?void 0:(delete this.collection[t],--this.count)},iterate:function(e){for(var t in e)e.hasOwnProperty(t)&&("object"==typeof e[t]?n.iterate(e[t]):console.log(t+"   "+e[t]))},get:function(e,t){o.debug&&log("##################### object.get()");for(var t in e)if(e.hasOwnProperty(t))return e[t]}},destroy:function(){o.debug&&log("##################### destroy()"),t.removeData(n.get(0))},refresh:function(){o.debug&&log("##################### refresh()"),n.destroy(),n.init()}};e.Both=n}(window,jQuery);